{"version":3,"sources":["redditapi.js","index.js"],"names":["search","searchTerm","getlimit","sortby","fetch","then","res","json","data","children","map","catch","err","console","log","searchForm","document","getElementById","searchInput","addEventListener","e","value","querySelector","showMessage","reddit","results","output","forEach","post","image","preview","images","source","url","title","truncateText","selftext","subreddit","score","innerHTML","preventDefault","message","className","div","createElement","appendChild","createTextNode","searchContainer","insertBefore","setTimeout","remove","text","lim","short","indexOf","substring"],"mappings":"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","file":"Findit.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export default{\r\n  search:function(searchTerm,getlimit,sortby){\r\n   return fetch(`http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortby}&limit=${getlimit}`)\r\n  \r\n  .then(res=>res.json())\r\n  .then(data=>data.data.children.map(data=>data.data))\r\n  .catch(err=>console.log(err));\r\n  }\r\n}","import reddit from './redditapi';\r\nconst searchForm=document.getElementById('search-form');\r\nconst searchInput=document.getElementById('search-input');\r\n\r\nsearchForm.addEventListener('submit',e=>{\r\n  //get search term\r\nconst searchTerm=searchInput.value;\r\n//get sort\r\nconst sortby=document.querySelector('input[name=\"sortby\"]:checked').value;\r\n//get limit\r\nconst getlimit=document.getElementById('limit').value;\r\n//check input\r\nif(searchTerm==''){\r\n  showMessage('Please add a search term','alert-danger');\r\n}\r\n//clear input\r\nsearchInput.value='';\r\n//search reddit\r\nreddit.search(searchTerm,getlimit,sortby).then(results=>{\r\n  console.log(results);\r\n  let output='<div class=\"card-columns\">';\r\n  results.forEach(post=>{\r\n   const image=post.preview?post.preview.images[0].source.url:'https://mashupawards.com/wp-content/uploads/2019/06/reddit-banner.png';\r\n    output+=`\r\n    <div class=\"card\">\r\n    <img class=\"card-img-top\"src=\"${image}\"alt=\"Card image cap\">\r\n  <div class=\"card-body\">\r\n    <h5 class=\"card-title\">${post.title}</h5>\r\n\r\n    <p class=\"card-text\">${truncateText(post.selftext,100)}</p>\r\n    <a href=\"${post.url}\" target=\"_blank\"class=\"btn btn-primary\">Read more</a>\r\n   <hr>\r\n   <span class=\"badge badge-secondary\">Subreddit:${post.subreddit}</span>\r\n   \r\n   <span class=\"badge badge-dark\">Score:${post.score}</span>\r\n  </div>\r\n</div>\r\n    `;\r\n  });\r\n  output+='</div>';\r\n  document.getElementById('results').innerHTML=output;\r\n});\r\n  e.preventDefault();\r\n});\r\n// Show message\r\nfunction showMessage(message,className){\r\n  // craete div\r\n  const div=document.createElement('div');\r\n// add classes\r\ndiv.className=`alert ${className}`;\r\n// add the text\r\ndiv.appendChild(document.createTextNode(message));\r\n//get parent\r\nconst searchContainer=document.getElementById('search-container');\r\nconst search=document.getElementById('search');\r\nsearchContainer.insertBefore(div,search);\r\n//timeout\r\nsetTimeout(()=>document.querySelector('.alert').remove(),3000);\r\n}\r\n//truncate text\r\nfunction truncateText(text,lim){\r\n  const short=text.indexOf(' ',lim);\r\n  if(short==-1) return text;\r\n  return text.substring(0,short);\r\n}"]}